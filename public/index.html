<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twitch Chat TTS</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js" integrity="sha512-CSBhVREyzHAjAFfBlIBakjoRUKp5h7VSweP0InR/pAJyptH7peuhCsqAI/snV+TwZmXZqoUklpXp6R6wMnYf5Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <link href="output.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="style.css" type="text/css">
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Twitch Chat TTS" />
  <meta property="og:description"
    content="Please enter a channel  text to speech." />
  <script src="indexdb.js"></script>
  <script type="module" src="./index.js"></script>
  <script src="renderer.js"></script>
</head>
<div class="title-bar">
  <h1>tiktokLiveApp</h1>
</div>
<body class=" text-xl mt-10 w-full bg-gray-600 p-0">
  <div class="parent">
    <div class="divmenu">
      <input type="checkbox" id="menu-toggle" >

      <div class="tabs-menu">
          <label for="menu-toggle" class="menu-button">
              <img src="svg/pinboard.svg" class="icon">
          </label>
           <!-- Creamos un Fijador para el menú de tabs -->
          <div id="stateText"></div>
          <input type="text" placeholder="tu usuario @uniqueid" id="uniqueIdInput">
          <input type="button" class="custombutton" id="connectButton" value="Conectar">
          <div class="tabs" data-tab="tab1">
              <img src="svg/chat.svg" class="icon">
              <a>Chat LIVE</a>
          </div>
          <div class="tabs" data-tab="tab2">
              <img src="svg/minecraft.svg" class="icon">
              <a>Minecraft</a>
          </div>
          <div class="tabs" data-tab="tab3">
              <img src="svg/sounds.svg" class="icon">
              <a>Sonidos</a>
          </div>
          <div class="tabs" data-tab="tab4">
              <img src="svg/actionsevent.svg" class="icon">
              <a>Overlay</a>
          </div>
          <div class="tabs" data-tab="tab5">
              <img src="svg/gift.svg" class="icon">
              <a>Gifnames</a>
          </div>
          <div class="tabs" data-tab="tab6">
              <img src="svg/settings.svg" class="icon">
              <a>Settings</a>
          </div>
          <button class="btn btn-primary" id="Actualizar">Actualizar</button>
          <div id="Actualizar-status"></div>

          <label class="cyberpunk-checkbox-label">
              <input type="checkbox" class="cyberpunk-checkbox" id="overlayOff">
              overlay on/off</label>
            
              <label class="cyberpunk-checkbox-label">
      </div>

  </div>
  <div class="divcontent">
    <div id="tab1" class="tab-content">


        <!-- <button id="connect-button" class="btn btn-primary">Connect</button> -->
        <!-- <div class="grid float-end right-0">
          <div class="card">
            <a href="https://www.tiktok.com/@melserng" >
              <img class="card-img-top" src="images/Rose.webp" alt="Rose">
            </a>
            <div class="card-body">
              <h5 class="card-title">una monedita</h5>
              <p class="card-text">con una rosita me apoyas :D!</p>
            </div>
          </div>
        </div> -->
        <div class="containerbox">
              <h1>TTS de chat de Twitch</h1>
              <p>Ingrese un canal a continuación y luego haga clic en "Comenzar a escuchar" para texto a voz.</p>
                <form action="#">
                  <div class="row">
                    <div class="col-lg-8 col">
                      <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon3">twitch.tv/</span>
                        </div>
                        <input id="channelname" name="channel" type="text" class="form-control" />
                      </div>
                    </div>
                    <div class="col-lg-4 col">
                      <button class="btn btn-primary" id="listenBtn" type="submit"> Start
                        Listening</button>
                    </div>
                  </div>
                </form>
                <div id="status" class="alert alert-info">
                  Esperando el nombre del canal...
                </div>
                <div class="inputFields">
                  <div class="LiveContainer">
                      <div class="chat1 chatcontainer">Chats</div>
                      <div class="gift2 giftcontainer">Gifts</div>
                      <div class="events3 eventscontainer">Events</div>
                  </div> 
              <!---- # esta es una parte de la tab de eventos -->

          </div>
          <div class="containerbox">
            <div class="flexbox">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">General Settings</h2>
                    </div>
                    <div class="card-content space-y-4">
                            <input type="checkbox" id="voiceenabled" checked>
                            <label for="voiceenabled">Enabled</label>

                        <div class="card-subcontent">
                            <label class="label cursor-pointer" for="selectvoice1">Voz1</label>
                            <input type="radio" name="selectvoice" id="selectvoice1" class="radio checked:bg-blue-300" checked>
                            <div id="voiceSelectContainer" class="relative m-3 content-center"></div>

                            <label class="label cursor-pointer" for="selectvoice2">Voz2</label>
                            <input type="radio" name="selectvoice" id="selectvoice2" class="radio checked:bg-blue-500">

                        <div class="grid">
                            <select id="voiceSelect" class="select select-info"></select>
                            <div class="flex">                                <label for="randomVoice">Random Voice</label>
                                <input type="checkbox" id="randomVoice" checked></div>
                            <div class="flex">                                <label for="randomSpeed"><small>random speed</small></label>
                                <input type="checkbox" id="randomSpeed">
                                <input type="range" class="range range-sm" id="randomSpeedValue" name="randomSpeedValue" value="1" min="0.1" max="2" step="0.1">
                                </div>
                            <div class="flex">  <label for="randomPitch"><small>random pitch</small></label>
                                <input type="checkbox" id="randomPitch">
                                <input type="range" class="range range-sm" id="randomPitchValue" name="randomPitchValue" value="1" min="0.1" max="2" step="0.1">
                            </div>
                            <div class="flex">
                                <label for="default-speed">Default Speed</label>
                                <input type="range" id="default-speed" class="range range-sm">                                   </div>
                            <div class="flex">
                                <label for="default-pitch">Default Pitch</label>
                                <input type="range" id="default-pitch" class="range range-sm">                                   </div>
                            <small>Speech Volume</small>
                            <label for="volume">
                                <i class="bi bi-volume-up-fill"></i></label>
                                <input id="volume" type="range" min="0" max="1" value="1" step="0.1" class="range range-sm">
                            
                        </div>
                        </div>
                    </div>
                </div>
        
                <audio id="audiotrack"></audio>
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Allowed Users</h2>
                    </div>
                    <div class="card-content space-y-4 text-lg">
                        <div class="flex items-center">
                            <input type="checkbox" id="allUsers" checked>
                            <label for="allUsers">All Users</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="followRole" checked>
                            <label for="followRole">Followers</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="isSubscriber" checked>
                            <label for="isSubscriber">isSubscriber</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="isModerator" checked>
                            <label for="isModerator">isModerator</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="isNewGifter" checked>
                            <label for="isNewGifter">isNewGifter</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="teamMemberLevel" checked>
                            <label for="teamMemberLevel">
                                Team Members <span>Min. Level:</span>
                            </label>
                            <input type="number" id="teamMemberLevel-value" class="input input-bordered w-12" value="1" min="0">
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="topGifterRank" checked>
                            <label for="topGifterRank">
                                Top Gifters <span>Top:</span>
                            </label>
                            <input type="number" id="topGifterRank-value" class="input input-bordered w-12" value="3" min="0">
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="allowed-users-list" checked>
                            <label for="allowed-users-list">
                                Allowed Users from list <span>Manage List</span>
                            </label>
                        </div>
                    </div>
                    
                    <button class="custombutton" onclick="getCheckboxValues()">Obtener Valores</button>
                
                    <script>
                        function getCheckboxValues() {
                            const checkboxes = document.querySelectorAll('.card-content input[type="checkbox"]');
                            const values = {};
                            checkboxes.forEach(checkbox => {
                                values[checkbox.id] = checkbox.checked;
                            });
                            console.log(values);
                        }
                    </script>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Comment Types</h2>
                    </div>
                    <div class="card-content space-y-4">
                        <label>Read...</label>
                        <div>
                            <div class="flex items-center">
                                <input type="radio" name="comment-type" value="any-comment" id="any-comment" class="radio checked:bg-blue-300" checked>
                                <label for="any-comment">Any comment</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" name="comment-type" value="dot-comment" id="dot-comment" class="radio checked:bg-blue-300">
                                <label for="dot-comment">Comments starting with dot (.)</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" name="comment-type" value="slash-comment" id="slash-comment" class="radio checked:bg-blue-300">
                                <label for="slash-comment">Comments starting with slash (/)</label>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" name="comment-type" value="command-comment" id="command-comment" class="radio checked:bg-blue-300">
                                <label for="command-comment">Comments starting with Command:</label>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <label for="command">Command</label>
                            <input type="text" id="command" placeholder="!speak">
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">More Settings</h2>

                    </div>    
                    <div class="card-content space-y-4">
                        <label class="cyberpunk-checkbox-label">
                            leer follower prefijo:
                            <input type="checkbox" class="cyberpunk-checkbox" id="readUserMessage" checked>
                            <input type="text" id="prefixuserfollow" value="te sige">
                        </label>
                        <label class="cyberpunk-checkbox-label">
                            leer regalos prefijo:
                            <input type="checkbox" class="cyberpunk-checkbox" id="readGiftEvent" checked>
                            <input type="text" id="prefixGiftEvent" value="regalo">
                        </label>
                        <label class="cyberpunk-checkbox-label">
                            leer usuario y mensaje prefijo:
                            <input type="checkbox" class="cyberpunk-checkbox" id="readUserMessage" checked>
                            <input type="text" id="prefixusermessage" value="dice">
                        </label>
                        <label class="cyberpunk-checkbox-label">solo mensajes =>3
                            <input type="checkbox" class="cyberpunk-checkbox" id="messagelenght3" checked>
                            </label>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Filtros</h2>
                    </div>
                    <div class="card-content space-y-4">
                        <p>BlackList: Input de palabras que no aparecerán en el chat</p>
                        <input type="text" id="filter-words" class="border p-2 mr-2">
                        <button class="custombutton" id="addfilter-words" >✅word</button>
                        <button id="load-known-filters" class="custombutton">Añadir filtros conocidos</button>
                        <div id="containerfilter-words" class="overflow-y-auto max-h-28 space-y-2 mt-2"></div>
                    </div>
                
                    <div class="card-content space-y-4">
                        <p>WhiteList: Input de usuarios que aparecerán en el chat++</p>
                        <input type="text" id="filter-users" class="border p-2 mr-2">
                        <button class="custombutton" id="addfilter-users" >✅user</button>
                        <div id="containerfilter-users" class="overflow-y-auto max-h-28 space-y-2 mt-2"></div>
                    </div>
                </div>
                <div class="card">
                    puntos iniciales del canal
                    <input type="number" id="users-points" value="2" max="99" min="0" class="bg-slate-600 w-20">
                    <label class="cyberpunk-checkbox-label">sin puntos no lee
                    <input type="checkbox" class="cyberpunk-checkbox" id="userpointsCheckbox" checked>
                    </label>

        
                    <label class="cyberpunk-checkbox-label">añadir puntos x lvl   
                    <input type="checkbox" class="cyberpunk-checkbox" id="userlevelCheckbox" checked>
                                 <input type="number" id="users-level" value="20" max="50" min="0" class="bg-slate-600 w-20">
                </label>
                </div>
            </div>

        </div>
        <div class="containerbox">
            <input type="text" id="testvoice">
            <button class="custombutton" id="testvoicebtn">testvoice</button>

                    
        </div>
          </div>


  </div>
    <div id="tab2" class="tab-content jumbotron">
      <div class="grid border-2 font-bold text-gray-900 border-slate-600 mx-2 rounded-md">

      <form id="createBotForm" class="grid w-11/12 grid-cols-2 border-2	p-2 m-2 border-slate-600 gap-4 mx-2 rounded-md">
        <label for="keyBOT" class="justify-self-start">MinecraftBOT:</label>
        <input type="text" id="keyBOT" name="keyBOT" value="" required>
        <label for="keySERVER" class="justify-self-start">IP del Server:</label>
        <input type="text" id="keySERVER" name="keySERVER" value="localhost:25565" required>
        <label for="keyLOGIN" class="justify-self-start">Chat en el servidor:</label>
        <input type="text" id="keyLOGIN" name="keyLOGIN" value="hola como estan" required>
        <button type="submit" class="border-4	p-2 m-2 border-slate-600 rounded-md">Conectar Bot</button>
        <button id="disconnectButton" class="border-4	p-2 m-2 border-slate-600 rounded-md">Desconectar Bot</button>
      </form>
          <div id="resultMessage"></div>

          <div class="grid w-11/12 grid-cols-2 border-2	p-2 m-2 border-slate-600 gap-4 mx-2 rounded-md">
            <label>Tu Minecraft playerName:</label>
            <input type="text" id="playerNameInput" placeholder="minecraftPlayer" onchange="saveDataminecraft()">

             <label for="eventType"> test Event Type:</label>
              <input type="text" id="eventType" placeholder="Event Type" value="gift" onchange="saveDataminecraft()">
              <label for="data"> test Data :</label> 
              <input type="text" id="data" placeholder="Data Default" onchange="saveDataminecraft()">
              <button onclick="testHandleEvent()">Test Handle Event</button> 
          </div>
          <script>

            addEventListener('load', () => {
              const data = localStorage.getItem('dataminecraft');
              if (data) {
                const dataObj = JSON.parse(data);
                document.getElementById('playerNameInput').value = dataObj.playerName;
                document.getElementById('eventType').value = dataObj.eventType;
                document.getElementById('data').value = dataObj.data;
              }
            });
            function saveDataminecraft() {
              const playerName = document.getElementById('playerNameInput').value;
              const eventType = document.getElementById('eventType').value;
              const data = document.getElementById('data').value;
              localStorage.setItem('dataminecraft', JSON.stringify({ playerName, eventType, data }));
              console.log('Datos guardados en el localStorage', localStorage.getItem('dataminecraft'));
            }
          </script>
          <div class="grid w-full border-2	p-2 m-2 border-slate-600 gap-4 mx-2 rounded-md">
            <h1>Gift List</h1>
            <input type="text" id="gifts-title" placeholder="Gift Title">
            <textarea id="gifts-description" placeholder="Gift Description"></textarea>
            <button onclick="addEvent('gifts')">Add Gift</button>
            <ul id="gifts-list"></ul>
          <h1>chat List</h1>
          <input type="text" id="chat-title" placeholder="chat Title">
          <textarea id="chat-description" placeholder="Comment Description"></textarea>
          <button onclick="addEvent('chat')">Add chat</button>
          <ul id="chat-list"></ul>
        
          <h1>follows List</h1>
          <input type="text" id="follows-title" placeholder="follows Title">
          <textarea id="follows-description" placeholder="follows Description"></textarea>
          <button onclick="addEvent('follows')">Add follows</button>
          <ul id="follows-list"></ul>
        
          <h1>Subscribe List</h1>
          <input type="text" id="subscribes-title" placeholder="Subscribe Title">
          <textarea id="subscribes-description" placeholder="Subscribe Description"></textarea>
          <button onclick="addEvent('subscribes')">Add Subscribe</button>
          <ul id="subscribes-list"></ul>
          </div>
          </div>
          <script>
            if (localStorage.getItem('botFormData')) {
              const formData = JSON.parse(localStorage.getItem('botFormData'));
              keyBOTInput = document.getElementById('keyBOT');
              keySERVERInput = document.getElementById('keySERVER');
              keyLOGINInput = document.getElementById('keyLOGIN');
              keyBOTInput.value = formData.keyBOT;
              keySERVERInput.value = formData.keySERVER;
              keyLOGINInput.value = formData.keyLOGIN;
            }
            const createformData = document.getElementById('createBotForm').addEventListener('change', function(event) {
              event.preventDefault();
              const keyBOT = document.getElementById('keyBOT').value.trim();
              const keySERVER = document.getElementById('keySERVER').value.trim();
              const keyLOGIN = document.getElementById('keyLOGIN').value.trim();
              localStorage.setItem('botFormData', JSON.stringify({ keyBOT, keySERVER, keyLOGIN }));
              console.log('Datos guardados en el localStorage', localStorage.getItem('botFormData'));

            });
            
          </script>
    </div>
    <div id="tab3" class="tab-content jumbotron">
      <div>
        <h1>Actions & Events      </h1>
        <p>
  Aquí puede definir sus acciones y eventos personalizados (desencadenantes).Por ejemplo, puede mostrar un video o animación en cierto regalo.
  Para esto primero debe definir la acción y luego el evento.Se requiere la superposición de mis acciones para OBS/Live Studio.
  Mire este video para aprender cómo funciona las acciones y el sistema de eventos.
        </p>
        <div class="actions-container grid w-full border-2	p-2 m-2 border-slate-600 gap-4 mx-2 rounded-md">
          <h2>Actions</h2>
          <p>
  ¿Qué es lo que desea que suceda?Aquí puede crear nuevas acciones y editar las existentes.
  Puede vincular estas acciones a los eventos a continuación.
          </p>
          <button id="createActionandOpenModal">Crear nueva acción</button>
          <table>
            <td>nombre</td>
            <td>imagen</td>
            <td>video</td>
            <td>sonido</td>
            <td>eventos</td>
            <td>botones</td>
          </table>
          </div>
        <div class="events-container grid w-full border-2	p-2 m-2 border-slate-600 gap-4 mx-2 rounded-md">
          <h2>Events</h2>
          <p>Aquí puede definir qué activará sus acciones.
            </p>
            <button>Crear nuevo evento</button>
            <table class="table" id="events-table">
              <td>atajos</td>
              <td>activo</td>
              <td>evento</td>
              <td>trigger</td>
              <td>actions</td>
            </table>
        </div>
      </div>
      <h1>subir archivos</h1>
      <div class="file-container" id="drop-area">
        <ul id="file-list"> </ul>        

    </div>
  </div>
  <div id="tab4" class="tab-content">
    <div id="tab5-action"></div>
    <div class="jumbotron">
      <button id="openaction" class="btn btn-primary">openaction</button>
      <button id="closeaction" class="btn btn-primary">closeaction</button>
      <div id="loadrowactionsevents"></div>

    </div>



  <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="settingsModalLabel">Browser Source Export</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>A continuación se muestra una URL que puede colocar como fuente del navegador en OBS. Esta URL aplicará automáticamente el nombre de su canal y comenzará a escuchar mensajes.</p><p>Tenga en cuenta que solo Amazon Polly es compatible como fuente de navegador para OBS y que los usuarios del chat excluidos no funcionan (todavía)..</p>
          <div class="row">
            <div class="col-8">
            <input id="settingsURL" class="form-control" value="" disabled />
          </div>
          <div class="col-4">
            <button class="btn btn-outline-dark" onclick="copyURL()">Copy URL</button>
          </div>
         </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  </div>
  <div id="tab5" class="tab-content jumbotron">
    <h1>Seccion para test -- > en consola</h1>
    <div class="container" id="main">
      <div id="messages"></div>
    </div>
    <div class="OverlayEvent grid w-full border-2 p-2 m-2 border-slate-600 gap-4 mx-2 rounded-md" id="OverlayEvent">

    <div class="actionevent grid w-full border-2 p-2 m-2 border-slate-600 gap-4 mx-2 rounded-md" id="actionevent">
      <div id="testsection">
        <input type="text" id="testInput" placeholder="Event Name" />
        <button id="testButton_actionevent" class="btn btn-primary">Test</button>
      </div>

          <!-- Modulo tab 5 Apartado Modal, tab5 Action -->

          <div>
              <input type="text" id="action-name" placeholder="action name">
              <button id="testactionevent" class="btn btn-primary">test</button>
          </div>

    <script type="module" src="./index.js"></script>
    </div>
    <!-- creamos un script donde al estar checked se muestran mas espacios y elementos para modalactions -->
    </div>
    <script>
      // funciones de testeo para acciones y eventos
      let actionEvents = ['chat', 'bits', 'sub', 'resub', 'logon'];
      const actionselect = document.getElementById('actionselect');

      function switchActionEvent(action, event) {
        switch (action) {
          case 'chat':
            switch (event) {  
              case 'bits':
                console.log('bits', action,event);
                break;
              case 'comment':
                console.log('comment', action,event);
                break;  
              case 'like':  
                console.log('like', action,event);
                break;
              case 'subscribe':
                console.log('subscribe', action,event); 
                break;
              case 'subgift':
                console.log('subgift', action,event);
                break;
              case 'submysterygift':
                console.log('submysterygift', action,event);
                break;
              case 'sub':
                console.log('sub', action,event);
                break;
              case 'resub':
                console.log('resub', action,event);
                break;
              case 'gift':
                console.log('gift', action,event);
                break;
              case 'giftpaidupgrade':
                console.log('giftpaidupgrade', action,event);
                break;
              case 'default':
                console.log('datos', action,event);
                                break;
            }
            break;
            default:
              console.log(' default', action,event);
              break;
          }
          
          
      }
      function testmodaleventwithdata() {
        console.log('testmodaleventwithdata');
      }

    </script>
    </div>
  </div>
  <script>
    const triggers = [];
    function selectTrigger(trigger) {
        const triggerselect = document.getElementById('OverlayEventActions')
        for (const t of triggers) {
            triggerselect.options.add(new Option(t.name, t.id));
        }
    }
  </script>

  <!-- gestor de pestañas [tabs] -->
  <script>

    document.addEventListener('DOMContentLoaded', () => {
      const tabs = document.querySelectorAll('.tabs');
      const tabContents = document.querySelectorAll('.tab-content');
  
      function activateTab(tab) {
          const tabId = tab.getAttribute('data-tab');
          const content = document.getElementById(tabId);
  
          // Deactivate all tabs and content
          tabs.forEach(t => t.classList.remove('active'));
          tabContents.forEach(c => c.classList.remove('active'));
  
          // Activate the selected tab and content
          tab.classList.add('active');
          content.classList.add('active');
  
          // Store the last active tab in localStorage
          localStorage.setItem('activeTab', tabId);
      }
  
      // Add event listeners to tabs
      tabs.forEach(tab => {
          tab.addEventListener('click', () => activateTab(tab));
      });
  
      // Check for the last active tab in localStorage
      const lastActiveTab = localStorage.getItem('activeTab');
      if (lastActiveTab) {
          const tab = document.querySelector(`.tabs[data-tab="${lastActiveTab}"]`);
          if (tab) {
              activateTab(tab);
          } else {
              activateTab(tabs[0]); // Fallback to the first tab if the stored tab doesn't exist
          }
      } else {
          activateTab(tabs[0]); // Default to the first tab
      }
  });
  
  </script>
</div>
</body>
<script src="tmi.min.js"></script>
<script src="app.js" type="module"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>  
</html>
